"0",""
"0","# ---- 3.3B: summarize by county (population-weighted) ----"
"0","county_summary_weighted <- tract_demo %>%"
"0","  dplyr::group_by(county_label) %>%"
"0","  dplyr::summarise("
"0","    total_pop = sum(total_popE, na.rm = TRUE),"
"0","    white_nh  = sum(white_nhE,  na.rm = TRUE),"
"0","    black_nh  = sum(black_nhE,  na.rm = TRUE),"
"0","    hispanic  = sum(hispanicE,  na.rm = TRUE),"
"0","    n_tracts  = dplyr::n(),"
"0","    .groups = ""drop"""
"0","  ) %>%"
"0","  dplyr::mutate("
"0","    pct_white_nh = 100 * white_nh / total_pop,"
"0","    pct_black_nh = 100 * black_nh / total_pop,"
"0","    pct_hispanic = 100 * hispanic / total_pop"
"0","  ) %>%"
"0","  dplyr::select("
"0","    county_label, n_tracts, total_pop,"
"0","    pct_white_nh, pct_black_nh, pct_hispanic"
"0","  )"
"0",""
"0","knitr::kable("
"0","  county_summary_weighted,"
"0","  digits = c(0, 0, 0, 1, 1, 1),"
"0","  col.names = c(""County"", ""Tracts"", ""Population"","
"0","                ""% White (NH)"", ""% Black (NH)"", ""% Hispanic""),"
"0","  caption = ""County-wide demographics (ACS 2018â€“2022 5-year, weighted by population)"""
"0",")"
